# μ•„μ΄ν… 5. μμ›μ„ μ§μ ‘ λ…μ‹ν•μ§€ λ§κ³  μμ΅΄ κ°μ²΄ μ£Όμ…μ„ μ‚¬μ©ν•λΌ

## κ°μ”

**μ„ λ‘ λ°©μ‹μ€ μ‚¬μ©ν•λ” μμ›μ— λ”°λΌ λ™μ‘μ΄ λ‹¬λΌμ§€λ” ν΄λμ¤μ—λ” μ •μ  μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ‚ μ‹±κΈ€ν„΄ λ°©μ‹μ΄ μ ν•©ν•μ§€ μ•λ‹¤.**

μ΄ κ²½μ° **μμ΅΄ κ°μ²΄ μ£Όμ… ν¨ν„΄**μ΄ μ ν•©ν•λ‹¤.

## μμ 

μ±…μ—μ„λ” `SpellChecker`λ¥Ό μμ λ΅ λ“ λ‹¤. `SpellChecker`λ” `dictionary`μ— μμ΅΄ν•κ³  μλ‹¤.

```java
public class SpellChecker{
	private static final Lexicon dictionary = ...;
	
	private SpellChecker(){} // κ°μ²΄ μƒμ„± λ°©μ§€
	
	public static boolean isValid(String word){ ... }
	public static List<String> suggestions(String typo){ ... }
}
```

```java
public class SpellChecker { 
	private final Lexicon dictionary = ...; 

	private SpellChecker(Lexicon dictionary) {}
	public static SpellChecker INSTATNCE = new SpellChecker(...); 

	public boolean isValid(String word) { ... } 
	public List<String> suggestions(String typo) { ... } 
}
```

μ„μ λ‘ κ°€μ§€ λ°©μ‹μ€ μ μ—°ν•μ§€ μ•μ„ λΏλ”λ¬ ν…μ¤νΈν•κΈ°λ„ μ–΄λ µλ‹¤.

<aside>
π’΅

κ·Έλ ‡λ‹¤λ©΄ **ν•„λ“μ—μ„ finalμ„ μ κ±°ν•κ³  κµμ²΄ λ©”μ„λ“λ¥Ό μ¶”κ°€**ν•λ” κ±΄ μ–΄λ–¨κΉ?

</aside>

: μ΄ λ°©λ²•μ€ μ–΄μƒ‰ν•  λΏλ”λ¬, μ¤λ¥λ¥Ό λ‚΄κΈ° μ‰¬μ°λ©°, λ©€ν‹°μ¤λ λ“ ν™κ²½μ—μ„λ” μ“Έ μ μ—†λ‹¤.

<aside>
π’΅

μ •λ‹µμ€ λ°”λ΅ **μμ΅΄ κ°μ²΄ μ£Όμ… ν¨ν„΄**μ΄λ‹¤.

</aside>

```java
public class SpellChecker{
	private fianl Lexicon dictionary;
	
	public SpellChecker (Lexicon dictionary) {
		this.dictionary = Objects.requireNonNull(dictionary);
	}
	
	public boolean isValid(String word) { ... }
	public List<String> suggestions (String typo) { ... }
}
```

## μμ΅΄ κ°μ²΄ μ£Όμ… ν¨ν„΄μ μ¥μ 

1. μμ›μ΄ λ‡ κ°λ“  μμ΅΄κ΄€κ³„κ°€ μ–΄λ–»λ“  μƒκ΄€μ—†μ΄ μ μ‘λ™ν•λ‹¤
2. λ¶λ³€(μ•„μ΄ν… 17)μ„ λ³΄μ¥ν•μ—¬ (κ°™μ€ μμ›μ„ μ‚¬μ©ν•λ ¤λ”) μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ μμ΅΄ κ°μ²΄λ“¤μ„ μ•μ‹¬ν•κ³  κ³µμ ν•  μ μκΈ°λ„ ν•λ‹¤.
3. μƒμ„±μ, μ •μ  ν©ν„°λ¦¬, λΉλ” λ¨λ‘μ— λ‘κ°™μ΄ μ‘μ©ν•  μ μλ‹¤.

<aside>
π’΅

μ¤ν”„λ§μ DI κΈ°λ¥μ€ μ΄λ¥Ό μ§€μ›ν•λ” λ€ν‘μ μΈ μμ‹μ΄λ‹¤.

</aside>

<aside>
π’΅

**ν΄λμ¤μ μ μ—°μ„±, μ¬μ‚¬μ©μ„±, ν…μ¤νΈ μ©μ΄μ„±**μ„ κ°μ„ ν•΄μ£Όλ” λ†€λΌμ΄ λ°©λ²•μ΄λΌκ³  λ³Ό μ μκ² λ‹¤.

</aside>

## μ΄ ν¨ν„΄μ λ³€ν•: μƒμ„±μμ— μμ› ν©ν„°λ¦¬λ¥Ό λ„κ²¨μ£Όλ” λ°©μ‹

<aside>
π’΅

**ν©ν„°λ¦¬?**

: **νΈμ¶ν•  λ•λ§λ‹¤ νΉμ • νƒ€μ…μ μΈμ¤ν„΄μ¤λ¥Ό λ°λ³µν•΄μ„ λ§λ“¤μ–΄μ£Όλ”** κ°μ²΄

μ¦‰, ν©ν„°λ¦¬ λ©”μ„λ“ ν¨ν„΄(Factory Method Pattern)μ„ κµ¬ν„ν• κ²ƒ.

μλ°” 8μ—μ„ μ†κ°λ **Supplier<T> μΈν„°νμ΄μ¤**κ°€ μ™„λ²½ν• μμ‹μ΄λ‹¤.

</aside>

**μ£Όμν•  μ **

Supplier<T>λ¥Ό μ…λ ¥μΌλ΅ λ°›λ” λ©”μ„λ“λ” μΌλ°μ μΌλ΅ **ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…(bounded wildcard type, μ•„μ΄ν… 31)**μ„ μ‚¬μ©ν•΄ ν©ν„°λ¦¬μ νƒ€μ… λ§¤κ°λ³€μλ¥Ό μ ν•ν•΄μ•Ό ν•λ‹¤.

β†’ μ΄λ¬ν• λ°©μ‹μ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈλ” **β€μμ‹ μ΄ λ…μ‹ν• νƒ€μ…μ ν•μ„ νƒ€μ…μ΄λΌλ©΄ λ¬΄μ—‡μ΄λ“  μƒμ„±ν•  μ μλ”β€™** ν©ν„°λ¦¬λ¥Ό λ„κΈΈ μ μλ‹¤.

μ•„λλ” ν΄λΌμ΄μ–ΈνΈκ°€ μ κ³µν• ν©ν„°λ¦¬λ¥Ό ν†µν•΄ μƒμ„±λ νƒ€μΌ(Tile)λ“¤λ΅ κµ¬μ„±λ λ¨μμ΄ν¬(Mosaic)λ¥Ό λ§λ“λ” λ©”μ„λ“λ‹¤.

```java
Mosaic create(Supplier<? extends Tile> tileFactory) { ... }
```